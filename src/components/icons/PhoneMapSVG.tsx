import React from "react";
import { View } from "react-native";
import Svg, { G, Path, Rect, ClipPath, Defs } from "react-native-svg";

interface PhoneMapSVGProps {
  width?: number;
  height?: number;
  children?: React.ReactNode; // Para el contenido del mapa dentro del área azul
}

export const PhoneMapSVG: React.FC<PhoneMapSVGProps> = ({
  width = 91,
  height = 91,
  children,
}) => {
  return (
    <View style={{ position: "relative", width, height }}>
      <Svg width={width} height={height} viewBox="0 0 91 91" fill="none">
        <Defs>
          <ClipPath id="clip0_1177_23050">
            <Rect width="91" height="91" fill="white" />
          </ClipPath>
          <ClipPath id="clip1_1177_23050">
            <Rect
              width="29"
              height="68"
              fill="white"
              transform="translate(27 11)"
            />
          </ClipPath>
        </Defs>

        <G clipPath="url(#clip0_1177_23050)">
          {/* Base circular verde */}
          <Path
            d="M91 45.5C91 56.3294 87.216 66.2736 80.8994 74.0868C72.5583 84.4025 59.7987 91 45.5 91C39.4997 91 33.7695 89.8376 28.5228 87.7261C26.3225 86.841 24.2092 85.7888 22.1955 84.5856C18.8772 82.6021 15.8326 80.208 13.1328 77.4744C12.0664 76.3973 11.0551 75.2652 10.1006 74.0868C3.78397 66.2736 0 56.3294 0 45.5C0 34.6706 3.78397 24.7264 10.1006 16.9132C11.0551 15.733 12.0664 14.6009 13.1328 13.522C17.601 9.00047 23.0095 5.41023 29.0418 3.06947C34.1463 1.08773 39.6952 0 45.5 0C51.3048 0 56.8537 1.08773 61.9582 3.06947C69.4302 5.96832 75.9441 10.7849 80.8994 16.9132C87.216 24.7264 91 34.6706 91 45.5Z"
            fill="#7DA244"
          />

          {/* Marco del teléfono */}
          <Path
            d="M81.9001 10.3393V74.0797C73.3232 84.3997 60.203 90.9999 45.5001 90.9999C30.7972 90.9999 17.677 84.3997 9.1001 74.0797V10.3393C9.1001 6.30486 12.4629 3.0332 16.6096 3.0332H74.3905C78.5373 3.0332 81.9001 6.30486 81.9001 10.3393Z"
            fill="#DF8C37"
          />

          {/* Pantalla azul del teléfono - aquí irá el mapa */}
          <Path
            d="M58.0603 10.7119H24.1254C20.853 10.7119 18.2 13.3648 18.2 16.6374V76.7706C18.2 80.043 20.8528 82.6961 24.1254 82.6961H58.0603C61.3327 82.6961 63.9857 80.0432 63.9857 76.7706V16.6374C63.9857 13.3648 61.3329 10.7119 58.0603 10.7119Z"
            fill="#B1E4F9"
          />

          {/* Efecto de profundidad */}
          <Path
            d="M26.0068 82.699H23.4598C20.186 82.699 17.5342 80.0455 17.5342 76.7734V16.6405C17.5342 13.3666 20.186 10.7148 23.4598 10.7148H26.0068C22.7347 10.7148 20.0811 13.3666 20.0811 16.6405V76.7734C20.0811 80.0455 22.7347 82.699 26.0068 82.699Z"
            fill="#75CEF9"
          />

          {/* Botones laterales */}
          <Path
            d="M75.5337 58.8853H68.9378C67.3389 58.8853 66.0425 57.5891 66.0425 55.99C66.0425 54.3911 67.3387 53.0947 68.9378 53.0947H75.5337C77.1326 53.0947 78.429 54.3909 78.429 55.99C78.4288 57.5891 77.1326 58.8853 75.5337 58.8853Z"
            fill="#3D4951"
          />

          <Path
            d="M66.4453 70.1582V63.5623C66.4453 61.9634 67.7415 60.667 69.3406 60.667C70.9395 60.667 72.2359 61.9632 72.2359 63.5623V70.1582C72.2359 71.7571 70.9397 73.0535 69.3406 73.0535C67.7415 73.0533 66.4453 71.7571 66.4453 70.1582Z"
            fill="#F9F6F6"
          />

          <Path
            d="M69.3406 71.276C68.7242 71.276 68.2227 70.7746 68.2227 70.158V63.5623C68.2227 62.9459 68.724 62.4443 69.3406 62.4443C69.9572 62.4443 70.4586 62.9457 70.4586 63.5623V70.1582C70.4584 70.7746 69.957 71.276 69.3406 71.276Z"
            fill="#3D4951"
          />

          <Path
            d="M74.1944 50.5463H70.277C67.9384 50.5463 66.0425 48.6504 66.0425 46.3118V27.2277C66.0425 24.8891 67.9384 22.9932 70.277 22.9932H74.1944C76.5331 22.9932 78.429 24.8891 78.429 27.2277V46.3118C78.4288 48.6504 76.5331 50.5463 74.1944 50.5463Z"
            fill="#F9F6F6"
          />

          <Path
            d="M70.277 48.7688C68.9221 48.7688 67.8198 47.6665 67.8198 46.3116V27.2275C67.8198 25.8726 68.9221 24.7705 70.277 24.7705H74.1944C75.5493 24.7705 76.6516 25.8728 76.6516 27.2275V46.3116C76.6516 47.6665 75.5493 48.7688 74.1944 48.7688H70.277Z"
            fill="#DFEAEF"
          />

          {/* Medalla/insignia */}
          <G clipPath="url(#clip1_1177_23050)">
            <Path
              d="M55.8029 91.0298C57.1042 98.9185 51.7562 106.421 43.8549 107.788C35.9561 109.15 28.496 103.862 27.1948 95.9729C25.8935 88.0816 31.2415 80.5788 39.1428 79.2144C47.044 77.8501 54.5016 83.1386 55.8029 91.0298Z"
              fill="#FAB400"
            />
            <Path
              opacity="0.2"
              d="M39.1427 79.2144C35.7589 79.7995 32.8459 81.5094 30.719 83.8952C30.443 85.4462 30.4183 87.0653 30.6894 88.7046C31.9636 96.4243 39.261 101.599 46.9922 100.265C50.6865 99.6272 53.8115 97.6146 55.9261 94.8481C56.0518 93.6022 56.0173 92.3236 55.8053 91.0323C54.5016 83.1386 47.0415 77.8501 39.1427 79.2144Z"
              fill="#FFFBF0"
            />
          </G>
        </G>
      </Svg>

      {/* Área para el contenido del mapa - posicionada sobre la pantalla azul */}
      <View
        style={{
          position: "absolute",
          left: (18.2 / 91) * width, // Proporcional al SVG
          top: (16.6374 / 91) * height,
          width: ((58.0603 - 24.1254) / 91) * width,
          height: ((76.7706 - 16.6374) / 91) * height,
          borderRadius: 4,
          overflow: "hidden",
        }}
      >
        {children}
      </View>
    </View>
  );
};
